<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Explore Psyche</title>
    <script src="https://aframe.io/releases/1.4.0/aframe.min.js"></script>
    <script src="https://unpkg.com/super-hands@^3.0.5/dist/super-hands.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/n5ro/aframe-extras@6.1.1/dist/aframe-extras.min.js"></script>
    <style>
      body, html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        background-color: rgb(27, 2, 33);
        display: flex;
        justify-content: center;
        align-items: center;
        color: white;
        font-family: 'Times New Roman', Times, serif;
      }
      .button {
        padding: 10px 20px;
        font-size: 18px;
        color: white;
        background-color: #ff0000;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        margin: 10px;
      }
      .button:hover {
        background-color: #ff0000;
      }
    </style>
  </head>
  <body>
    <a-scene physics="gravity: -9.8" loading-screen="dotsColor: red; backgroundColor: black">
      <a-assets>
        <audio id="background-music" src="soundtrack/space-by-sebastian-blanco.m4a"></audio>
        <img id="tiles-texture" src="assets/textures/Tiles107_2K-JPG_Color.jpg">
        <img id="brushed-metal-texture" src="assets/textures/Brushed-Metal-Texture.jpg">
        <img id="metal-texture" src="assets/textures/DiamondPlate001_2K-JPG_Color.jpg">
        <img id="dark-tiles-texture" src="assets/textures/Tiles129B_2K-JPG_Color.jpg">
        <img id="white-walls" src="assets/textures/white-walls.jpg">
        <img id="star-background" src="assets/space.png">
        <img id="switches-buttons" src="assets/textures/switches-buttons.jpg">
        <img id="detail-hud" src="assets/Texturelabs_Details_181M.jpg">
      </a-assets>
    
      <!-- Background Sound -->
      <a-sound id="background-sound" src="#background-music" autoplay="true" loop="true" volume="0.5" position="0 0 0"
      onloadeddata="console.log('Sound loaded!')"></a-sound>
      <Script>
        // Detect if the user is on a mobile device
        function isMobile() {
          return /Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i.test(navigator.userAgent);
        }

        // Disable movement controls on mobile
        document.addEventListener('DOMContentLoaded', () => {
          const cameraRig = document.querySelector('#camera-rig');
          if (isMobile()) {
            cameraRig.removeAttribute('movement-controls'); // Disable movement controls
            console.log('Movement controls disabled for mobile.');
          }
        });
      </Script>
      <!-- Camera Rig for Movement -->
      <a-entity id="camera-rig" dynamic-body>
        <!-- Camera -->
        <a-camera id="camera" position="0 0 0" raycaster="objects: .clickable; far: 20" 
        cursor="fuse: false; rayOrigin: mouse"></a-camera>
    
        <!-- Left Hand Controller -->
        <a-entity id="left-hand" oculus-touch-controls="hand: left" raycaster="objects: .clickable; interval: 100" line="color: orange; opacity: 0.75"></a-entity>
    
        <!-- Right Hand Controller -->
        <a-entity id="right-hand" oculus-touch-controls="hand: right" raycaster="objects: .clickable; interval: 100" line="color: orange; opacity: 0.75"></a-entity>
      </a-entity>

      <!-- Starry Background -->
      <a-sky material="src: #star-background; repeat: 2 2" rotation="0 -90 0"
      animation="property: rotation; to: 1 1; loop: true; dur: 40000; easing: linear"></a-sky>

      <!-- Spaceship interior -->
      <!-- ceiling -->
      <a-box position="-6 5 0" depth="20" height="1" width="8" material="src: #white-walls; repeat: 1 4; shader: standard"></a-box>
      <a-box position="6 5 0" depth="20" height="1" width="8" material="src: #white-walls; repeat: 1 4; shader: standard"></a-box>
      <!-- floor -->
      <a-box position="0 -5 0" depth="20" height="2" width="20" material="src: #dark-tiles-texture; repeat: 10 10"></a-box>

      <!-- TOP Borders -->
      <a-box position="-2 4.5 0" depth="16" height="1.5" width="0.5" material="src: #dark-tiles-texture; repeat: 4 4"></a-box>
      <a-box position="2 4.5 0" depth="16" height="1.5" width="0.5" material="src: #dark-tiles-texture; repeat: 4 4"></a-box>
      
      <!-- Cylinders-->
      <!-- Horizontal Front portion -->
        <!-- TOP -->
        <a-cylinder position="0 5 -9.8" radius="0.8" height="20" color="white" rotation="0 0 90"></a-cylinder>
        <!-- Bottom -->
        <a-cylinder position="0 -4.5 -9.8" radius="0.8" height="20" color="white" rotation="0 0 90"></a-cylinder>
      <!-- Horizontal Back portion -->
        <!-- TOP -->
        <a-cylinder position="0 5 9.8" radius="0.8" height="20" color="white" rotation="0 0 90"></a-cylinder>
        <!-- Bottom -->
        <a-cylinder position="0 -4.5 9.8" radius="0.8" height="20" color="white" rotation="0 0 90"></a-cylinder>
        
      <!-- White Cylinder Left with Light -->
      <a-entity>
        <a-cylinder position="-9.5 0 -9.5" radius="0.8" height="10" color="white"></a-cylinder>
        <a-light type="point" intensity="0.5" position="-9.5 0 -9.5" distance="15" color="white"></a-light>
      </a-entity>
      <!-- White Cylinder Right with Light -->
      <a-entity>
        <a-cylinder position="9.5 0 -9.5" radius="0.8" height="10" color="white"></a-cylinder>
        <a-light type="point" intensity="0.5" position="9.5 0 -9.5" distance="15" color="white"></a-light>
      </a-entity>

      <!-- White Cylinder Left Back with Light -->
      <a-entity>
        <a-cylinder position="-9.5 0 9.5" radius="0.8" height="10" color="white"></a-cylinder>
        <a-light type="point" intensity="0.5" position="-9.5 0 9.5" distance="15" color="white"></a-light>
      </a-entity>

      <!-- White Cylinder Right Back with Light -->
      <a-entity>
        <a-cylinder position="9.5 0 9.5" radius="0.8" height="10" color="white"></a-cylinder>
        <a-light type="point" intensity="0.5" position="9.5 0 9.5" distance="15" color="white"></a-light>
      </a-entity>

      <!-- Cylinder Left Wall -->
      <!-- Top -->
      <a-entity>
        <a-cylinder position="-9.8 4.5 0" radius="0.8" height="20" color="white" rotation="90 0 0"></a-cylinder>
        <a-light type="point" intensity="1" position="-9.8 4.5 0" distance="15" color="white"></a-light>
      </a-entity>

      <!-- Bottom -->
      <a-entity>
        <a-cylinder position="-9.8 -4.5 0" radius="0.8" height="20" color="white" rotation="90 0 0"></a-cylinder>
        <a-light type="point" intensity="1" position="-9.8 -4.5 0" distance="15" color="white"></a-light>
      </a-entity>

      <!-- Cylinder Right Wall -->
      <!-- Top -->
      <a-entity>
        <a-cylinder position="9.8 4.5 0" radius="0.8" height="20" color="white" rotation="90 0 0"></a-cylinder>
        <a-light type="point" intensity="1" position="9.8 4.5 0" distance="15" color="white"></a-light>
      </a-entity>

      <!-- Bottom -->
      <a-entity>
        <a-cylinder position="9.8 -4.5 0" radius="0.8" height="20" color="white" rotation="90 0 0"></a-cylinder>
        <a-light type="point" intensity="1" position="9.8 -4.5 0" distance="15" color="white"></a-light>
      </a-entity>
    
      <!-- left side pannel (left) -->
      <a-box position="-10 0 5" depth="10" height="10" width="0.1" material="color: #fff; emissive: #ffffff; emissiveIntensity: 0.5; shader: standard"></a-box>          
      <!-- PsycheOrbit Image on Top of the Left Side Panel -->
          <a-box position="-10 1 4" depth="8" height="7" width="0.4" material="src: assets/PsycheOrbit.png; shader: standard; side: double"></a-box>
          <!-- Light for PsycheOrbit -->
          <a-light type="point" intensity="1.5" position="-8 1 4" distance="60" angle="45" penumbra="0.5" color="white"></a-light>
        <!-- Button -->
        <a-box position="-9.8 -2.8 3" depth="6" height="0.7" width="0.1" color="#000" class="clickable" onclick="launchPlayer()"></a-box>
        <!-- Button Text -->
        <a-entity position="-9.7 -2.8 3" rotation="0 90 0" class="clickable" onclick="launchPlayer()"> 
          <a-text value="Click here to open Psyche view of solar system" color="white" align="center" width="6"></a-text>
        </a-entity>
        <!-- Embedded Player Container -->
        <div id="player-container" style="display: none; position: absolute; top: 10%; left: 10%; width: 80%; height: 80%; z-index: 1000; background: rgba(0, 0, 0, 0.8);">
          <iframe id="player-iframe" src="" allowfullscreen style="width: 100%; height: 100%; border: none;"></iframe>
          <button onclick="closePlayer()" style="position: absolute; top: 10px; right: 10px; z-index: 1001; background: red; color: white; border: none; padding: 10px; cursor: pointer;">Close</button>
        </div>
        
        <script>
          function launchPlayer() {
            const playerContainer = document.getElementById('player-container');
            const playerIframe = document.getElementById('player-iframe');
            playerIframe.src = "https://eyes.nasa.gov/apps/solar-system/#/sc_psyche?featured=false&detailPanel=false&search=false&shareButton=false&menu=false&collapseSettingsOptions=true";
            playerContainer.style.display = 'block';
          }
        
          function closePlayer() {
            const playerContainer = document.getElementById('player-container');
            const playerIframe = document.getElementById('player-iframe');
            playerIframe.src = ""; // Clear the iframe source
            playerContainer.style.display = 'none';
          }
        </script>

      <!-- window wall -->
      <!-- left -->
      <a-box position="-10 0 -0.2" depth="1" height="10" width="0.1" material="color: #fff; emissive: #ffffff; emissiveIntensity: 0.5; shader: standard"></a-box>
      <!-- right -->
      <a-box position="-10 0 -8.5" depth="1" height="5.5" width="0.1" material="color: #fff; emissive: #ffffff; emissiveIntensity: 0.5; shader: standard"></a-box>
      <!-- top -->
      <a-box position="-10 3.5 -4.5" depth="9" height="2" width="0.1" material="color: #fff; emissive: #ffffff; emissiveIntensity: 0.5; shader: standard"></a-box>
      <!-- bottom -->
      <a-box position="-10 -3.5 -4.5" depth="9" height="2" width="0.1" material="color: #fff; emissive: #ffffff; emissiveIntensity: 0.5; shader: standard"></a-box>
      
          <!-- window border -->
            <!-- left -->
            <a-box position="-9.8 0 -0.5" depth="0.5" height="5.5" width="0.1" material="src: #dark-tiles-texture; repeat: 1 1 shader: standard"></a-box>
            <!-- right -->
            <a-box position="-9.8 0 -8" depth="0.5" height="5.5" width="0.1" material="src: #dark-tiles-texture; repeat: 1 1 shader: standard"></a-box>
            <!-- top -->
            <a-box position="-9.8 2.5 -4" depth="7.5" height="0.5" width="0.1" material="src: #dark-tiles-texture; repeat: 1 1 shader: standard"></a-box>
            <!-- bottom -->
            <a-box position="-9.8 -2.5 -4" depth="7.5" height="0.5" width="0.1" material="src: #dark-tiles-texture; repeat: 1 1 shader: standard"></a-box>
            <a-entity id="hexagon-window">
              <!-- Center Piece -->
              <a-entity position="-10 0 -4" rotation="0 90 0" geometry="primitive: circle; radius: 4; segments: 8" material="color: white; side: double; wireframe: true"></a-entity>
            </a-entity>

      <a-assets>
        <!-- Planet Textures -->
        <img id="sun-texture" src="assets/textures/sun-texture.png">
        <img id="earth-texture" src="assets/textures/earth-texture.png">
        <img id="mars-texture" src="assets/textures/mars-texture.jpg">
        <img id="psyche-texture" src="assets/textures/psyche-texture.png">
        <img id="jupiter-texture" src="assets/textures/jupiter-texture.jpg">
      </a-assets>
      <!-- Solar System -->
      <!-- MAKE LABELS POINT AT WINDOW -->
      <script>
        AFRAME.registerComponent('look-at', {
          schema: { type: 'selector' },
          init: function () {
            this.target = this.data;
          },
          tick: function () {
            if (!this.target) return;
            this.el.object3D.lookAt(this.target.object3D.position);
          }
        });
      </script>
      <!-- Solar System -->
      <a-entity id="solar-system" position="-20 2 -8" rotation="0 0 -25">
        <!-- Sun -->
        <a-sphere id="sun" position="0 0 0" radius="2" material="src: #sun-texture"></a-sphere>
        <a-entity position="2 1 1" look-at="#window">
          <a-plane width="2" height="0.5" color="black" opacity="0.3" position="0 0 -0.01"></a-plane>
          <a-text value="Sun" color="white" align="center" width="10"></a-text>
        </a-entity>

        <!-- Earth -->
        <a-entity id="earth-orbit" rotation="0 0 0" animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear">
          <a-sphere id="earth" position="3 0 0" radius="0.5" material="src: #earth-texture"></a-sphere>
          <a-entity position="3 0 1" look-at="#window">
            <a-plane width="2" height="0.5" color="black" opacity="0.3" position="0 0 -0.01"></a-plane>
            <a-text value="Earth" color="white" align="center" width="8"></a-text>
          </a-entity>
        </a-entity>

        <!-- Mars -->
        <a-entity id="mars-orbit" rotation="0 0 0" animation="property: rotation; to: 0 360 0; loop: true; dur: 15000; easing: linear">
          <a-sphere id="mars" position="5 0 0" radius="0.4" material="src: #mars-texture"></a-sphere>
          <a-entity position="5 0 1" look-at="#window">
            <a-plane width="2" height="0.5" color="black" opacity="0.3" position="0 0 -0.01"></a-plane>
            <a-text value="Mars" color="white" align="center" width="8"></a-text>
          </a-entity>
        </a-entity>

        <!-- Psyche -->
        <a-entity id="psyche-orbit" rotation="0 0 0" animation="property: rotation; to: 0 360 0; loop: true; dur: 5000; easing: linear">
          <a-sphere id="psyche" position="6 0 0" radius="0.3" material="src: #psyche-texture"></a-sphere>
          <a-entity position="6 0 1" look-at="#window">
            <a-plane width="2" height="0.5" color="black" opacity="0.3" position="0 0 -0.01"></a-plane>
            <a-text value="Psyche" color="white" align="center" width="8"></a-text>
          </a-entity>
        </a-entity>

        <!-- Jupiter -->
        <a-entity id="jupiter-orbit" rotation="0 0 0" animation="property: rotation; to: 0 360 0; loop: true; dur: 20000; easing: linear">
          <a-sphere id="jupiter" position="8 0 0" radius="1" material="src: #jupiter-texture"></a-sphere>
          <a-entity position="8 0 2" look-at="#window">
            <a-plane width="2" height="0.5" color="black" opacity="0.3" position="0 0 -0.01"></a-plane>
            <a-text value="Jupiter" color="white" align="center" width="8"></a-text>
          </a-entity>
        </a-entity>
      </a-entity>
      
      <!-- Window Target -->
      <a-entity id="window" position="0 0 -4"></a-entity>

      <!-- side pannel (right) -->
      <a-box position="10 0 0" depth="20" height="10" width="0.1" material="src: #white-walls; repeat: 4 4; shader: standard"></a-box>
      <!-- <a-box position="10 1 0" depth="6" height="4" width="0.2" material="src: assets/PsycheSpacecraft.png;"></a-box>   -->
        <!-- Table -->
          <!-- Top -->
          <a-box position="8 -2.5 0" depth="10" height="0.1" width="5" color="grey"></a-box>
          <!-- Legs -->
          <a-box position="8 -4 4" depth="0.2" height="2.5" width="4" material="src: #metal-texture; repeat: 1 shader: standard"></a-box>
          <a-box position="8 -4 -4" depth="0.2" height="2.5" width="4" material="src: #metal-texture; repeat: 1 shader: standard"></a-box>
      
      <!-- PSYCHE OBJECTS -->
      <!-- Description Panel -->
      <a-entity id="description-panel" visible="false" class="clickable">
        <a-plane width="4.2" height="4.2" color="black" position="0 0 -0.02"></a-plane>
        <a-plane width="4.1" height="4.1" color="orange" position="0 0 -0.01"></a-plane>
        <a-plane width="4" height="4" color="black" opacity="0.8"></a-plane>
        <a-text id="description-title" value="" color="white" align="center" position="0 1.5 0.01" width="5"></a-text>
        <a-text id="description-content" value="" color="white" align="center" position="0 -0.5 0.01" width="4"></a-text>
      </a-entity>

      <script>
        let isDescriptionVisible = false; // Track the state of the description panel
        let lastClickedLabel = null; // Track the last clicked label

        function showDescription(title, description, labelId, position, rotation="0 -90 0") {
          const panel = document.querySelector('#description-panel');
          const titleText = document.querySelector('#description-title');
          const contentText = document.querySelector('#description-content');
          const currentLabel = document.querySelector(`#${labelId}`);

          // Hide the previous label if it exists and is not the current one
          if (lastClickedLabel && lastClickedLabel !== currentLabel) {
            lastClickedLabel.setAttribute('visible', true); // Show the previous label
          }

          if (isDescriptionVisible && lastClickedLabel === currentLabel) {
            // Hide the description panel and show the smaller label
            panel.setAttribute('visible', false);
            currentLabel.setAttribute('visible', true); // Show the smaller label
            isDescriptionVisible = false;
            lastClickedLabel = null; // Reset the last clicked label
          } else {
            // Update the text values
            titleText.setAttribute('value', `${title}\n_________________`);
            contentText.setAttribute('value', description);

            // Update the position and rotation of the panel
            panel.setAttribute('position', position);
            panel.setAttribute('rotation', rotation);

            // Make the panel visible
            panel.setAttribute('visible', true);

            // Hide the smaller label
            currentLabel.setAttribute('visible', false);

            isDescriptionVisible = true;
            lastClickedLabel = currentLabel; // Store the current label
          }
        }
      </script>
      <!-- Psyche Objects -->
      <a-entity id="psyche-objects">
        <!-- Psyche -->
        <a-box position="8 -1.5 -3" depth="1" height="1" width="1" material="src: #psyche-texture;" class="clickable"
              onclick="showDescription('Psyche', 'Only the 16th asteroid to be discovered, Psyche was found in 1852 by Italian astronomer Annibale de Gasparis, who named it for the goddess of the soul in ancient Greek mythology. \n \n What gives asteroid Psyche great scientific interest is that it is likely rich in metal. \n\n It may consist largely of metal from the core of a planetesimal, one of the building blocks of the Suns planetary system. \n\n At Psyche scientists will explore, for the first time ever, a world made not of rock or ice, but rich in metal.', 'psyche-label', '8 1.8 -3')"
              animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"
              animation__bounce="property: position; dir: alternate; dur: 2200; loop: true; to: 8 -1 -3"></a-box>
        <!-- Psyche Label -->
        <a-entity id="psyche-label" position="6 -2 -2.5" rotation="-20 -90 0"
                  onclick="showDescription('Psyche', 'Only the 16th asteroid to be discovered, Psyche was found in 1852 by Italian astronomer Annibale de Gasparis, who named it for the goddess of the soul in ancient Greek mythology. \n \n What gives asteroid Psyche great scientific interest is that it is likely rich in metal. \n\n It may consist largely of metal from the core of a planetesimal, one of the building blocks of the Suns planetary system. \n\n At Psyche scientists will explore, for the first time ever, a world made not of rock or ice, but rich in metal.', 'psyche-label', '8 1.8 -3')">
          <a-plane width="2" height="0.5" color="black" opacity="0.6" class="clickable"></a-plane>
          <a-text value="Psyche Material" color="white" align="center" position="0 0 0.01"></a-text>
        </a-entity>

    <!-- Clock Object -->
    <a-entity id="clock-entity" position="8 -1.5 0" class="clickable"
              onclick="showDescription('Launch Time', 'PSYCHE WAS LAUNCHED. \n\n NASA selected SpaceX of Hawthorne, California, to provide launch services for the Psyche mission. Psyche successfully launched at 10:19 a.m. EDT Friday, October 13, 2023 aboard a SpaceX Falcon Heavy rocket from Launch Pad 39A at NASAs Kennedy Space Center in Florida. \n\n Primary Mission Duration: 26 months at the Psyche asteroid \n\n Arrival at Asteroid: Mid-2029', 'clock-label', '8 1.8 0')">
        <!-- Spinning Clock -->
        <a-box depth="2.5" height="1" width="0.3" color="black" class="clickable" 
         animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"
         animation__bounce="property: position; dir: alternate; dur: 2100; loop: true; to: 0 0.5 0">
         <a-box depth="2.55" height="1.06" width="0.29" color="white"></a-box>
            <!-- Clock Labels (inside the box) -->
            <a-entity id="clock-labels" rotation="0 -90 0">
              <!-- Front Face -->
              <a-text id="clock-label-front" value="0 days, 0 hours, 0 minutes, 0 seconds" color="orange" align="center" position="0 0.15 0.2" rotation="0 0 0" width="7"></a-text>
              <a-text value="days | hours | minutes | seconds" color="white" align="center" position="0 -0.2 0.2" rotation="0 0 0" width="4"></a-text>
              <!-- Back Face -->
              <a-text id="clock-label-back" value="0 days, 0 hours, 0 minutes, 0 seconds" color="orange" align="center" position="0 0.15 -0.2" rotation="0 180 0" width="7"></a-text>
              <a-text value="days | hours | minutes | seconds" color="white" align="center" position="0 -0.2 -0.2" rotation="0 180 0" width="4"></a-text>
            </a-entity>
          </a-box>
          
        </a-entity>
        <!-- Clock Label -->
        <a-entity id="clock-label" position="6 -2 0" rotation="-20 -90 0" class="clickable"
        onclick="showDescription('Launch Time', 'PSYCHE WAS LAUNCHED. \n\n NASA selected SpaceX of Hawthorne, California, to provide launch services for the Psyche mission. Psyche successfully launched at 10:19 a.m. EDT Friday, October 13, 2023 aboard a SpaceX Falcon Heavy rocket from Launch Pad 39A at NASAs Kennedy Space Center in Florida. \n\n Primary Mission Duration: 26 months at the Psyche asteroid \n\n Arrival at Asteroid: Mid-2029', 'clock-label', '8 1.8 0')">
          <a-plane width="1.5" height="0.5" color="black" opacity="0.6" class="clickable"></a-plane>
          <a-text value="Launch Time" color="white" align="center" position="0 0 0.01" class="clickable"></a-text>
        </a-entity>
      

      <script>
        // Initialize the start time (Psyche was launched on October 13, 2023. 2:19:42 UTC)
        const startTime = new Date('October 13, 2023 10:19:42 EDT');
      
        function updateClockLabels() {
          // Get the current time
          const now = new Date();
          // Calculate the difference in milliseconds
          const diff = now - startTime;
          // Convert the difference to days, hours, minutes, and seconds
          const diffInSeconds = Math.floor(diff / 1000);
          const days = Math.floor(diffInSeconds / (60 * 60 * 24));
          const remainingSecondsAfterDays = diffInSeconds % (60 * 60 * 24);
          const hours = Math.floor(remainingSecondsAfterDays / (60 * 60));
          const remainingSecondsAfterHours = remainingSecondsAfterDays % (60 * 60);
          const minutes = Math.floor(remainingSecondsAfterHours / 60);
          const seconds = remainingSecondsAfterHours % 60;
          // Update the labels
          const timeString = `${days} | ${hours} | ${minutes} | ${seconds}`;
          document.querySelector('#clock-label-front').setAttribute('value', timeString);
          document.querySelector('#clock-label-back').setAttribute('value', timeString);
        }
        // Update the clock labels every second (1000ms)
        setInterval(updateClockLabels, 1000);
      </script>

      <!-- Spacecraft -->
      <a-box position="8 -1.5 3" depth="1" height="1" width="1" color="blue" class="clickable"
        onclick="showDescription('Spacecraft', 'The Psyche spacecraft and solar panels, built by Maxar Technologies, are about the size of a singles tennis court. \n\n The body of the spacecraft is slightly bigger than a small van and about as tall as a regulation basketball hoop. The spacecraft includes a Gamma-Ray and Neutron Spectrometer, a Multispectral Imager, a Magnetometer and an x-band radio telecommunications system. \n\n The Psyche mission is also testing a sophisticated new laser communication technology, called Deep Space Optical Communication, that encodes data in photons to communicate between a probe in deep space and Earth.', 'spacecraft-label', '8 1.8 3')"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 10000; easing: linear"
        animation__bounce="property: position; dir: alternate; dur: 2000; loop: true; to: 8 -1 3"></a-box>
      <!-- Spacecraft Label -->
      <a-entity id="spacecraft-label" position="6 -2 2.5" rotation="-20 -90 0" class="clickable" 
                onclick="showDescription('Spacecraft', 'The Psyche spacecraft and solar panels, built by Maxar Technologies, are about the size of a singles tennis court. \n\n The body of the spacecraft is slightly bigger than a small van and about as tall as a regulation basketball hoop. The spacecraft includes a Gamma-Ray and Neutron Spectrometer, a Multispectral Imager, a Magnetometer and an x-band radio telecommunications system. \n\n The Psyche mission is also testing a sophisticated new laser communication technology, called Deep Space Optical Communication, that encodes data in photons to communicate between a probe in deep space and Earth.', 'spacecraft-label', '8 1.8 3')">
        <a-plane width="1.5" height="0.5" color="black" opacity="0.6" class="clickable"></a-plane>
        <a-text value="Spacecraft" color="white" align="center" position="0 0 0.01" class="clickable"></a-text>
      </a-entity>

      <!-- Front Panel -->
      <!-- Hexagon Window -->
      <a-entity id="hexagon-window">
        <!-- Left-Up -->
        <a-entity position="-4.5 2.8 -12" rotation="0 40 60" 
                  geometry="primitive: triangle; vertexA: 0 6 0; vertexB: -2 -2 0; vertexC: 2 -2 0" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
        <!-- Left-Down -->
        <a-entity position="-4.5 -2.8 -12" rotation="0 40 120" 
                  geometry="primitive: triangle; vertexA: 0 6 0; vertexB: -2 -2 0; vertexC: 2 -2 0" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
        <!-- Right-Up -->
        <a-entity position="4.5 2.8 -12" rotation="0 -40 -60" 
                  geometry="primitive: triangle; vertexA: 0 6 0; vertexB: -2 -2 0; vertexC: 2 -2 0" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
        <!-- Right-Down -->
        <a-entity position="4.5 -2.8 -12" rotation="0 -40 -120" 
                  geometry="primitive: triangle; vertexA: 0 6 0; vertexB: -2 -2 0; vertexC: 2 -2 0" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
        <!-- Center Piece -->
        <a-entity position="0 0 -14" rotation="0 0 0" 
                  geometry="primitive: circle; radius: 4; segments: 6" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
        <!-- Up -->
        <a-entity position="0 4.2 -12" rotation="80 0 0" 
                  geometry="primitive: triangle; vertexA: 0 3 0; vertexB: -2 -2 0; vertexC: 2 -2 0" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
        <!-- Down -->
        <a-entity position="0 -4.2 -12" rotation="-80 180 0" 
                  geometry="primitive: triangle; vertexA: 0 3 -3; vertexB: -2 -2 0; vertexC: 2 -2 0" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
        <!-- Left -->
        <a-entity position="-5 0 -12" rotation="0 40 -90" 
                  geometry="primitive: triangle; vertexA: 0 1 0; vertexB: 4 -4 0; vertexC: -4 -4 0" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
        <!-- Right -->
        <a-entity position="5 0 -12" rotation="0 -40 90" 
                  geometry="primitive: triangle; vertexA: 0 1 0; vertexB: 4 -4 0; vertexC: -4 -4 0" 
                  material="color: grey; side: double; wireframe: true"></a-entity>
      </a-entity>

      <!-- Desk -->
      <a-entity id="front-desk">
        <!--BackBoard-->
        <a-box position="0 -2 -10" depth="0.1" height="2" width="10" material="src: #dark-tiles-texture; repeat: 4 shader: standard"></a-box>
        <!-- HUD -->
        <a-box position="0 -2 -9.5" rotation="-20 0 0" depth="0.1" height="2" width="10" material="src: #detail-hud;"></a-box>
        <!-- desk portion -->
        <a-box position="0 -2.8 -9" rotation="15 0 0" depth="2" height="0.1" width="10" material="src: #switches-buttons; repeat: 3 0.6; shader: standard"></a-box>          <!-- Legs -->
          <!--LEGS-->
          <a-box position="4 -4 -9.5" depth="1.5" height="2.2" width="0.4" material="src: #dark-tiles-texture; repeat: 4 shader: standard"></a-box>
          <a-box position="-4 -4 -9.5" depth="1.5" height="2.2" width="0.4" material="src: #dark-tiles-texture; repeat: 4 shader: standard"></a-box>
        <!-- Command buttons -->
         <!-- Red Go Back Button -->
        <a-box position="-3 -2.8 -8.5" depth="0.5" height="0.4" width="1" color="#F04" class="clickable" event-set__click="_event: click; color: #0056b3" onclick="redirectTo()"></a-box>
        <a-entity id="reset-label" position="-3 -2.8 -8.2">
          <a-plane width="1" height="0.2" color="black" opacity="0.6"></a-plane>
          <a-text value="RESET" color="white" align="center" position="0 0 0.01"></a-text>
        </a-entity>
        <!--Blue Information Button -->
        <a-box position="0 -2.8 -8.5" depth="0.5" height="0.4" width="1" color="#04F" class="clickable" event-set__click="_event: click; color: #0056b3" onclick="showDescription('Info Help', 'On Mobile \n Move phone around to explore the room. \n Click on various buttons / objects to learn more about the Psyche mission. \n\n On VR \n Make sure your headset and controllers are connected. \n Point at the buttons / objects with your controller and using the trigger click on them to learn more about the mission \n\n', 'info-label', '0 1 -8.5', '0 0 0')"></a-box>
        <a-entity id="info-label" position="0 -2.8 -8.2"
          onclick="showDescription('Info Help', 'On Mobile \n Move phone around to explore the room. \n Click on various buttons / objects to learn more about the Psyche mission. \n\n\n\n On VR \n Make sure your headset and controllers are connected. \n Point at the buttons / objects with your controller and using the trigger click on them to learn more about the mission \n\n\n\n', 'info-label', '0 1 -8.5', '0 0 0')">
          <a-plane width="1.5" height="0.2" color="black" opacity="0.6" class="clickable"></a-plane>
          <a-text value="Information" color="white" align="center" position="0 0 0.01"></a-text>
        </a-entity>
      </a-entity>

      <!--Back Gate-->
      <a-box position="9.5 0 10" depth="0.1" height="10" width="7" color="#333"></a-box>
      <a-box position="-9.5 0 10" depth="0.1" height="10" width="7" color="#333"></a-box>
      
      <!-- LOCKED ROOM (VR Only) -->
      <a-box position="0 0 10.2" depth="0.1" height="12" width="18" color="#000" opacity="0.6"></a-box>
      <!-- Text for Locked Room -->
      <a-entity position="0 0 9.8" rotation="0 180 0">
        <a-text value="LOCKED ROOM (Wear VR Headset)" color="red" opacity="0.8" align="center" width="10"></a-text>
      </a-entity>

      <!--Back corridor-->
      <!-- Ceiling Wall -->
      <a-box position="0 4.5 20" depth="20" height="0.2" width="18" material="src: #white-walls; repeat: 2 2; shader: standard"></a-box>
      <!-- Floor Wall -->
      <a-box position="0 -4 20" depth="20" height="0.2" width="18" material="src: #dark-tiles-texture; repeat: 6 6; shader: standard"></a-box>
      
      <!-- Doors and Corridors -->
      <a-entity id="full-corridor">
        <!-- Right Side Wall (Top Section) -->
        <a-box position="-7 3.3 12" depth="4" height="4" width="0.2" color="#888" rotation="0 0 24"></a-box>
        <!-- Right Side Wall (Middle Section) -->
        <a-box position="-6.2 0 12" depth="4" height="3" width="0.2" color="#888"></a-box>
        <!-- Right Side Wall (Bottom Section) -->
        <a-box position="-7 -3.3 12" depth="4" height="4" width="0.2" color="#888" rotation="0 0 -24"></a-box>

        <!-- Left Side Wall (Top Section) -->
        <a-box position="7 3.3 12" depth="4" height="4" width="0.2" color="#888" rotation="0 0 -24"></a-box>
        <!-- Right Side Wall (Middle Section) -->
        <a-box position="6.2 0 12" depth="4" height="3" width="0.2" color="#888"></a-box>
        <!-- Right Side Wall (Bottom Section) -->
        <a-box position="7 -3.3 12" depth="4" height="4" width="0.2" color="#888" rotation="0 0 24"></a-box>
        
        <!-- BREAK LEFT AND RIGHT Corridor -->
        
        <!-- Filler Wall -->
        <a-box position="-10 3 14" depth="0.1" height="6" width="6" color="#333" rotation="0 0 24"></a-box>
        <a-box position="-9.5 0 14" depth="0.1" height="3" width="7" color="#333"></a-box>
        <a-box position="-10 -3 14" depth="0.1" height="6" width="6" color="#333" rotation="0 0 -24"></a-box>
        <!-- Right Side Wall (Top Section) -->
        <a-box position="-7 3.3 20" depth="4" height="4" width="0.2" color="#888" rotation="0 0 24"></a-box>
        <!-- Right Side Wall (Middle Section) -->
        <a-box position="-6.2 0 20" depth="4" height="3" width="0.2" color="#888"></a-box>
        <!-- Right Side Wall (Bottom Section) -->
        <a-box position="-7 -3.3 20" depth="4" height="4" width="0.2" color="#888" rotation="0 0 -24"></a-box>
        
        <!-- Red Lights Between First Doors -->
        <!-- Corridor Right Side-->
        <a-light type="point" intensity="5" position="-10 2 16" distance="6" color="#ff0000"></a-light>
        <!-- Corridor Left Side-->
        <a-light type="point" intensity="5" position="10 2 16" distance="6" color="#ff0000"></a-light>   


        <!-- Red Lights Between Second Doors -->
        <!-- Corridor Right Side-->
        <a-light type="point" intensity="5" position="-10 2 18" distance="6" color="#ff0000"></a-light>
        <!-- Corridor Left Side-->
        <a-light type="point" intensity="5" position="10 2 18" distance="6" color="#ff0000"></a-light>   

        <!-- Red Lights Between LAST Doors -->
        <!--Last Corridor Right Side-->
        <a-light type="point" intensity="5" position="-10 2 24" distance="6" color="#ff0000"></a-light>
        <!--Last Corridor Left Side-->
        <a-light type="point" intensity="5" position="10 2 24" distance="6" color="#ff0000"></a-light>   

        <!-- Filler Wall -->
        <a-box position="10 3 14" depth="0.1" height="6" width="6" color="#333" rotation="0 0 -24"></a-box>
        <a-box position="9.5 0 14" depth="0.1" height="3" width="7" color="#333"></a-box>
        <a-box position="10 -3 14" depth="0.1" height="6" width="6" color="#333" rotation="0 0 24"></a-box>
        <!-- Left Side Wall (Top Section) -->
        <a-box position="7 3.3 20" depth="4" height="4" width="0.2" color="#888" rotation="0 0 -24"></a-box>
        <!-- Right Side Wall (Middle Section) -->
        <a-box position="6.2 0 20" depth="4" height="3" width="0.2" color="#888"></a-box>
        <!-- Right Side Wall (Bottom Section) -->
        <a-box position="7 -3.3 20" depth="4" height="4" width="0.2" color="#888" rotation="0 0 24"></a-box>

        <!-- BREAK Corridor -->

        <!-- Filler Wall -->
        <a-box position="-10 3 18" depth="0.1" height="6" width="6" color="#333" rotation="0 0 24"></a-box>
        <a-box position="-9.5 0 18" depth="0.1" height="3" width="7" color="#333"></a-box>
        <a-box position="-10 -3 18" depth="0.1" height="6" width="6" color="#333" rotation="0 0 -24"></a-box>
        <!-- Right Side Wall (Top Section) -->
        <a-box position="-7 3.3 28" depth="4" height="4" width="0.2" color="#888" rotation="0 0 24"></a-box>
        <!-- Right Side Wall (Middle Section) -->
        <a-box position="-6.2 0 28" depth="4" height="3" width="0.2" color="#888"></a-box>
        <!-- Right Side Wall (Bottom Section) -->
        <a-box position="-7 -3.3 28" depth="4" height="4" width="0.2" color="#888" rotation="0 0 -24"></a-box>
        <!-- Filler Wall -->
        <a-box position="-10 3 22" depth="0.1" height="6" width="6" color="#333" rotation="0 0 24"></a-box>
        <a-box position="-9.5 0 22" depth="0.1" height="3" width="7" color="#333"></a-box>
        <a-box position="-10 -3 22" depth="0.1" height="6" width="6" color="#333" rotation="0 0 -24"></a-box>
        

        <!-- Filler Wall -->
        <a-box position="10 3 18" depth="0.1" height="6" width="6" color="#333" rotation="0 0 -24"></a-box>
        <a-box position="9.5 0 18" depth="0.1" height="3" width="7" color="#333"></a-box>
        <a-box position="10 -3 18" depth="0.1" height="6" width="6" color="#333" rotation="0 0 24"></a-box>
        <!-- Left Side Wall (Top Section) -->
        <a-box position="7 3.3 28" depth="4" height="4" width="0.2" color="#888" rotation="0 0 -24"></a-box>
        <!-- Right Side Wall (Middle Section) -->
        <a-box position="6.2 0 28" depth="4" height="3" width="0.2" color="#888"></a-box>
        <!-- Right Side Wall (Bottom Section) -->
        <a-box position="7 -3.3 28" depth="4" height="4" width="0.2" color="#888" rotation="0 0 24"></a-box>
        <!-- Filler Wall -->
        <a-box position="10 3 22" depth="0.1" height="6" width="6" color="#333" rotation="0 0 -24"></a-box>
        <a-box position="9.5 0 22" depth="0.1" height="3" width="7" color="#333"></a-box>
        <a-box position="10 -3 22" depth="0.1" height="6" width="6" color="#333" rotation="0 0 24"></a-box>
        

        <!-- ENDS -->
        <!-- Filler Wall -->
        <a-box position="-10 3 26" depth="0.1" height="6" width="6" color="#333" rotation="0 0 24"></a-box>
        <a-box position="-9.5 0 26" depth="0.1" height="3" width="7" color="#333"></a-box>
        <a-box position="-10 -3 26" depth="0.1" height="6" width="6" color="#333" rotation="0 0 -24"></a-box>
        <!-- Filler Wall -->
        <a-box position="10 3 26" depth="0.1" height="6" width="6" color="#333" rotation="0 0 -24"></a-box>
        <a-box position="9.5 0 26" depth="0.1" height="3" width="7" color="#333"></a-box>
        <a-box position="10 -3 26" depth="0.1" height="6" width="6" color="#333" rotation="0 0 24"></a-box>
        
        <!-- END OF CORRIDOR -->
        <a-box position="0 0 30" depth="0.1" height="10" width="20" material="src: #white-walls; repeat: 1 1 shader: standard"></a-box>

      </a-entity>
    </a-scene>
    <script>
      function redirectTo() {
        window.location.href = "index.html";
      }
    </script>
  </body>
</html>
<!-- 
To get the touch controls mapped, put this on your rig:

<a-entity id="left-hand" oculus-touch-controls="hand: left"></a-entity>

To setup the listeners you just need to do this:

document.querySelector("#left-hand").addEventListener("xbuttondown", xbuttondown); -->